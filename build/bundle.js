var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function s(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode&&t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function d(){return u(" ")}function f(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}function h(t,e){t.value=null==e?"":e}function g(t,e,n,o){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}let b;function w(t){b=t}function $(){if(!b)throw new Error("Function called outside component initialization");return b}function y(t){$().$$.on_mount.push(t)}function k(t){$().$$.on_destroy.push(t)}const v=[],x=[];let C=[];const _=[],L=Promise.resolve();let N=!1;function S(t){C.push(t)}const E=new Set;let A=0;function U(){if(0!==A)return;const t=b;do{try{for(;A<v.length;){const t=v[A];A++,w(t),P(t.$$)}}catch(t){throw v.length=0,A=0,t}for(w(null),v.length=0,A=0;x.length;)x.pop()();for(let t=0;t<C.length;t+=1){const e=C[t];E.has(e)||(E.add(e),e())}C.length=0}while(v.length);for(;_.length;)_.pop()();N=!1,E.clear(),w(t)}function P(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(S)}}const j=new Set;let I;function R(){I={r:0,c:[],p:I}}function T(){I.r||o(I.c),I=I.p}function O(t,e){t&&t.i&&(j.delete(t),t.i(e))}function H(t,e,n,o){if(t&&t.o){if(j.has(t))return;j.add(t),I.c.push((()=>{j.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function M(t){t&&t.c()}function z(t,n,r,c){const{fragment:a,after_update:i}=t.$$;a&&a.m(n,r),c||S((()=>{const n=t.$$.on_mount.map(e).filter(s);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),i.forEach(S)}function Y(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];C.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),C=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function B(t,e){-1===t.$$.dirty[0]&&(v.push(t),N||(N=!0,L.then(U)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function D(e,s,r,c,a,l,u,d=[-1]){const f=b;w(e);const p=e.$$={fragment:null,ctx:[],props:l,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:s.target||f.$$.root};u&&u(p.root);let m=!1;if(p.ctx=r?r(e,s.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=s)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](s),m&&B(e,t)),n})):[],p.update(),m=!0,o(p.before_update),p.fragment=!!c&&c(p.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);p.fragment&&p.fragment.l(t),t.forEach(i)}else p.fragment&&p.fragment.c();s.intro&&O(e.$$.fragment),z(e,s.target,s.anchor,s.customElement),U()}w(f)}class J{$destroy(){Y(this,1),this.$destroy=t}$on(e,n){if(!s(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const W=[];const q=function(e,n=t){let o;const s=new Set;function c(t){if(r(e,t)&&(e=t,o)){const t=!W.length;for(const t of s)t[1](),W.push(t,e);if(t){for(let t=0;t<W.length;t+=2)W[t][0](W[t+1]);W.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(r,a=t){const i=[r,a];return s.add(i),1===s.size&&(o=n(c)||t),r(e),()=>{s.delete(i),0===s.size&&o&&(o(),o=null)}}}}({isLoggedIn:!1,name:"Username",password:"Password",bio:"",isAdmin:!1,pfpURL:"./defaultPfp.png",isEditing:!1,id:""});function F(e){let n,r,u,m,g,b,w,$,y,k,v,x,C,_,L,N;return{c(){n=l("div"),r=l("button"),r.textContent="Home",u=d(),m=l("br"),g=d(),b=l("p"),b.innerHTML="<strong>You are in edit mode</strong>",w=d(),$=l("div"),y=l("label"),y.textContent="Change your username",k=d(),v=l("input"),x=l("button"),x.textContent="Submit",C=d(),_=l("footer"),_.innerHTML='<h6 class="w3-wide w3-padding-16">Copyright ©2023 <a href="https://rickysegura.w3spaces.com/">Ricky Segura</a> || <a href="https://myneospaces.com/">Neospaces</a>, Los Angeles, CA</h6>',p(r,"class","w3-btn w3-black"),p(y,"for","changeName"),p(v,"type","text"),p(v,"id","changeName"),p(x,"class","w3-btn w3-blue"),p($,"class","w3-container")},m(t,o){a(t,n,o),c(n,r),c(n,u),c(n,m),c(n,g),c(n,b),c(n,w),c(n,$),c($,y),c($,k),c($,v),h(v,e[0]),c($,x),c(n,C),c(n,_),L||(N=[f(r,"click",e[4]),f(v,"input",e[5]),f(x,"click",(function(){s(e[3](e[1],e[2]))&&e[3](e[1],e[2]).apply(this,arguments)}))],L=!0)},p(t,[n]){e=t,1&n&&v.value!==e[0]&&h(v,e[0])},i:t,o:t,d(t){t&&i(n),L=!1,o(N)}}}function G(t,e,n){let o,s,r=[];const c=q.subscribe((t=>{n(0,o=t.name),n(1,s=t.id)}));y((()=>{fetch("https://username-api-lg5f.onrender.com/subscribers").then((t=>t.json())).then((t=>{for(let e in t)r.unshift({id:t[e]._id,name:t[e].name});n(2,r)})).catch((t=>console.log(t.message)))})),k((()=>{c()}));return[o,s,r,(t,e)=>{let n=!1;for(var s in e)o==e[s].name&&(n=!0);n?alert("User already in database"):n||fetch("https://username-api-lg5f.onrender.com/subscribers/"+t,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o})}).then((t=>t.json())).then((t=>{localStorage.setItem("NohoUsername",o),alert("You have a new username!"),q.update((t=>({name:o})))})).catch((t=>console.log(t.message)))},()=>{q.update((t=>({isEditing:!1})))},function(){o=this.value,n(0,o)}]}class K extends J{constructor(t){super(),D(this,t,G,F,r,{})}}function Q(t,e,n){const o=t.slice();return o[16]=e[n],o}function V(e){let n,o;return n=new K({}),{c(){M(n.$$.fragment)},m(t,e){z(n,t,e),o=!0},p:t,i(t){o||(O(n.$$.fragment,t),o=!0)},o(t){H(n.$$.fragment,t),o=!1},d(t){Y(n,t)}}}function X(e){let n,s,r,b,w,$,y,k,v,x,C,_,L,N,S,E,A,U,P,j,I,R,T,O,H,M,z,Y,B,D,J=e[5].length+"",W=e[5],q=[];for(let t=0;t<W.length;t+=1)q[t]=et(Q(e,W,t));let F=null;return W.length||(F=Z()),{c(){n=l("div"),s=l("button"),s.textContent="Sign out",r=d(),b=l("button"),b.textContent="Edit account",w=d(),$=l("div"),y=l("div"),k=d(),v=l("h1"),x=u(e[0]),C=d(),_=l("p"),L=u(e[3]),N=d(),S=l("div"),E=l("textarea"),A=d(),U=l("button"),U.textContent="Send",P=d(),j=l("div"),I=l("button"),I.textContent="Refresh",R=d();for(let t=0;t<q.length;t+=1)q[t].c();F&&F.c(),T=d(),O=l("p"),H=u("Posts 1 - "),M=u(J),z=d(),Y=l("footer"),Y.innerHTML='<h6 class="w3-wide w3-padding-16 svelte-1tknkhf">Copyright ©2023 <a href="https://rickysegura.w3spaces.com/">Ricky Segura</a> || <a href="https://myneospaces.com/">Neospaces</a>, Los Angeles, CA</h6>',p(s,"class","w3-bar-item w3-button w3-mobile w3-right"),p(b,"class","w3-bar-item w3-button w3-mobile w3-right"),p(n,"class","w3-bar w3-black w3-margin-bottom"),p(y,"class","w3-round svelte-1tknkhf"),p(y,"id","UserPfp"),g(y,"background-image","url("+e[2]+")"),p(v,"id","usernameColor"),p(v,"class","svelte-1tknkhf"),p(E,"class","w3-input"),g(E,"resize","none"),p(E,"cols","30"),p(E,"rows","10"),p(E,"onclick","this.value='';"),p(U,"class","w3-btn w3-block w3-blue"),p(S,"class","w3-border"),p($,"id","userInfo"),p(I,"class","w3-btn w3-blue"),p(j,"class","w3-margin-top w3-margin-bottom")},m(t,o){a(t,n,o),c(n,s),c(n,r),c(n,b),a(t,w,o),a(t,$,o),c($,y),c($,k),c($,v),c(v,x),c($,C),c($,_),c(_,L),c($,N),c($,S),c(S,E),h(E,e[4]),c(S,A),c(S,U),a(t,P,o),a(t,j,o),c(j,I),a(t,R,o);for(let e=0;e<q.length;e+=1)q[e]&&q[e].m(t,o);F&&F.m(t,o),a(t,T,o),a(t,O,o),c(O,H),c(O,M),a(t,z,o),a(t,Y,o),B||(D=[f(s,"click",e[10]),f(b,"click",e[11]),f(y,"click",e[12]),f(E,"input",e[13]),f(U,"click",e[7]),f(I,"click",e[9])],B=!0)},p(t,e){if(4&e&&g(y,"background-image","url("+t[2]+")"),1&e&&m(x,t[0]),8&e&&m(L,t[3]),16&e&&h(E,t[4]),290&e){let n;for(W=t[5],n=0;n<W.length;n+=1){const o=Q(t,W,n);q[n]?q[n].p(o,e):(q[n]=et(o),q[n].c(),q[n].m(T.parentNode,T))}for(;n<q.length;n+=1)q[n].d(1);q.length=W.length,!W.length&&F?F.p(t,e):W.length?F&&(F.d(1),F=null):(F=Z(),F.c(),F.m(T.parentNode,T))}32&e&&J!==(J=t[5].length+"")&&m(M,J)},i:t,o:t,d(t){t&&i(n),t&&i(w),t&&i($),t&&i(P),t&&i(j),t&&i(R),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(q,t),F&&F.d(t),t&&i(T),t&&i(O),t&&i(z),t&&i(Y),B=!1,o(D)}}}function Z(e){let n;return{c(){n=l("p"),n.textContent="There are no people in the database. Be the first one to join!"},m(t,e){a(t,n,e)},p:t,d(t){t&&i(n)}}}function tt(t){let e,n,o;return{c(){e=l("button"),e.textContent="x",p(e,"class","w3-btn w3-red")},m(r,c){a(r,e,c),n||(o=f(e,"click",(function(){s(t[8](t[16].id))&&t[8](t[16].id).apply(this,arguments)})),n=!0)},p(e,n){t=e},d(t){t&&i(e),n=!1,o()}}}function et(t){let e,n,o,s,r,f,h,b,w,$,y,k,v=t[16].name+"",x=t[16].comment+"",C=t[1]&&tt(t);return{c(){e=l("div"),n=l("div"),o=d(),s=l("p"),r=l("strong"),f=u(v),h=u(" said:"),b=d(),w=l("div"),$=l("p"),y=u(x),k=d(),C&&C.c(),p(n,"class","pfpSettings w3-circle svelte-1tknkhf"),g(n,"background-image","url("+t[16].pfpURL+")"),p($,"class","svelte-1tknkhf"),p(w,"class","uPosts svelte-1tknkhf"),p(e,"class","w3-margin-bottom")},m(t,i){a(t,e,i),c(e,n),c(e,o),c(e,s),c(s,r),c(r,f),c(s,h),c(e,b),c(e,w),c(w,$),c($,y),c(w,k),C&&C.m(w,null)},p(t,e){32&e&&g(n,"background-image","url("+t[16].pfpURL+")"),32&e&&v!==(v=t[16].name+"")&&m(f,v),32&e&&x!==(x=t[16].comment+"")&&m(y,x),t[1]?C?C.p(t,e):(C=tt(t),C.c(),C.m(w,null)):C&&(C.d(1),C=null)},d(t){t&&i(e),C&&C.d()}}}function nt(t){let e,n,o,s;const r=[X,V],c=[];function u(t,e){return!0!==t[6]?0:1}return n=u(t),o=c[n]=r[n](t),{c(){e=l("main"),o.c(),p(e,"class","svelte-1tknkhf")},m(t,o){a(t,e,o),c[n].m(e,null),s=!0},p(t,[s]){let a=n;n=u(t),n===a?c[n].p(t,s):(R(),H(c[a],1,1,(()=>{c[a]=null})),T(),o=c[n],o?o.p(t,s):(o=c[n]=r[n](t),o.c()),O(o,1),o.m(e,null))},i(t){s||(O(o),s=!0)},o(t){H(o),s=!1},d(t){t&&i(e),c[n].d()}}}function ot(t,e,n){let o,s,r,c;const a=q.subscribe((t=>{n(2,r=t.pfpURL),n(3,c=t.bio),n(0,o=t.name),n(1,s=t.isAdmin)}));y((()=>{})),k((()=>{a()}));let i="What's up?",l=[],u=!1;function d(){fetch("https://username-api-lg5f.onrender.com/manas").then((t=>t.json())).then((t=>{for(let e in t)l.unshift({pfpURL:t[e].pfpURL,id:t[e]._id,name:t[e].owner,comment:t[e].comment,postData:t[e].postDate});n(5,l)})).catch((t=>console.log(t.message)))}d();return[o,s,r,c,i,l,u,t=>{fetch("https://username-api-lg5f.onrender.com/manas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pfpURL:r,name:o,comment:i})}).then((t=>t.json())).then((t=>{n(4,i="What's up?"),console.log(t),n(5,l.length=0,l),d()})).catch((t=>console.log(t.message)))},t=>{fetch("https://username-api-lg5f.onrender.com/manas/"+t,{method:"DELETE"}).then((t=>t.json())).then((t=>{console.log(t),n(5,l.length=0,l),d()})).catch((t=>console.log(t.message)))},()=>{n(5,l.length=0,l),d()},()=>{localStorage.removeItem("NohoUsername"),localStorage.removeItem("NohoPassword"),location.reload()},()=>{n(6,u=!0)},()=>{let t=Math.floor(6*Math.random());document.getElementById("usernameColor").style.color=["blue","red","black","orange","cyan","purple"][t]},function(){i=this.value,n(4,i)}]}class st extends J{constructor(t){super(),D(this,t,ot,nt,r,{})}}function rt(e){let n,s,r,u,m,g,b,w,$,y,k,v,x;return{c(){n=l("main"),s=l("h1"),s.textContent="North Hollywood Commons",r=d(),u=l("div"),m=l("input"),g=d(),b=l("input"),w=d(),$=l("button"),$.textContent="Sign In",y=d(),k=l("footer"),k.innerHTML='<h6 class="w3-wide w3-padding-16 svelte-6u53dk">Copyright ©2023 <a href="https://rickysegura.w3spaces.com/">Ricky Segura</a> || <a href="https://myneospaces.com/">Neospaces</a>, Los Angeles, CA</h6>',p(s,"class","svelte-6u53dk"),p(m,"class","w3-input"),p(m,"type","text"),p(b,"class","w3-input"),p(b,"type","text"),p($,"class","w3-btn w3-block w3-blue"),p(u,"class","w3-border"),p(n,"class","svelte-6u53dk")},m(t,o){a(t,n,o),c(n,s),c(n,r),c(n,u),c(u,m),h(m,e[0]),c(u,g),c(u,b),h(b,e[1]),c(u,w),c(u,$),c(n,y),c(n,k),v||(x=[f(m,"input",e[3]),f(b,"input",e[4]),f($,"click",e[2])],v=!0)},p(t,[e]){1&e&&m.value!==t[0]&&h(m,t[0]),2&e&&b.value!==t[1]&&h(b,t[1])},i:t,o:t,d(t){t&&i(n),v=!1,o(x)}}}function ct(t,e,n){let o,s,r;const c=q.subscribe((t=>{t.isLoggedIn,n(0,o=t.name),n(1,s=t.password)})),a=()=>{fetch("https://username-api-lg5f.onrender.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o,password:s})}).then((t=>t.json())).then((t=>{r=t,0!==t.length?(console.log(r[0].name+" properties returned. Admin?: "+r[0].isAdmin),localStorage.setItem("NohoUsername",r[0].name),localStorage.setItem("NohoPassword",r[0].password),q.update((t=>({isLoggedIn:!0,pfpURL:r[0].pfpURL,name:r[0].name,isAdmin:r[0].isAdmin,bio:r[0].bio,id:r[0]._id,password:s})))):alert("You need to be invited to join.")})).catch((t=>console.log(t.message)))};y((()=>{const t=localStorage.getItem("NohoUsername"),e=localStorage.getItem("NohoPassword");t&&e?(n(0,o=t),n(1,s=e),a()):console.log("User needs to login")})),k((()=>{c()}));return[o,s,()=>{""!==o&&""!==s&&"Password"!==s?a():(console.log("invalid"),alert("You need to fill in your account information."))},function(){o=this.value,n(0,o)},function(){s=this.value,n(1,s)}]}class at extends J{constructor(t){super(),D(this,t,ct,rt,r,{})}}function it(t){let e,n;return e=new at({}),{c(){M(e.$$.fragment)},m(t,o){z(e,t,o),n=!0},i(t){n||(O(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function lt(t){let e,n;return e=new st({}),{c(){M(e.$$.fragment)},m(t,o){z(e,t,o),n=!0},i(t){n||(O(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(t){Y(e,t)}}}function ut(t){let e,n,o,s;const r=[lt,it],c=[];function l(t,e){return t[0]?0:1}return e=l(t),n=c[e]=r[e](t),{c(){n.c(),o=u("")},m(t,n){c[e].m(t,n),a(t,o,n),s=!0},p(t,[s]){let a=e;e=l(t),e!==a&&(R(),H(c[a],1,1,(()=>{c[a]=null})),T(),n=c[e],n||(n=c[e]=r[e](t),n.c()),O(n,1),n.m(o.parentNode,o))},i(t){s||(O(n),s=!0)},o(t){H(n),s=!1},d(t){c[e].d(t),t&&i(o)}}}function dt(t,e,n){let o=!1;return q.subscribe((t=>{n(0,o=t.isLoggedIn)})),[o]}return new class extends J{constructor(t){super(),D(this,t,dt,ut,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
